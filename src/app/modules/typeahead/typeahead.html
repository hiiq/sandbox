<h1 class="page-title">TYPEAHEAD DEMO PAGE</h1>

<div>This page contains the typeahead component</div>
<br/><br/>

<div id="typeahead" class="section group">
  <div class="col span_1_of_3">
    <form id="form" name="form">
      <div class="formWrap">
        <div id="tagForm" name="tagForm">
          <fieldset>
            <legend>TYPEAHEAD FORM</legend>
            <div class="header-container">
              <div class="header-text">
                TYPEAHEAD FORM
              </div>
            </div>
            <isc-typeahead-component
              isc-model="typeCtrl.tags"
              isc-rules="typeCtrl.rules"
              isc-source="typeCtrl.load"
              on-add="typeCtrl.onAdd($event)"
              on-adding="typeCtrl.onAdding($event)"
              on-remove="typeCtrl.onRemove($event)"
              on-removing="typeCtrl.onRemoving($event)"
              on-invalid="typeCtrl.onInvalid($event)"
              on-clicked="typeCtrl.onClicked($event)">
            </isc-typeahead-component>
            <textarea id="message" name="message" data-ng-model="typeCtrl.message" rows="5" cols="50" placeholder="Type your message..."></textarea>
            <div class="send-button">
              <button id="send" type="submit" data-ng-click="typeCtrl.submit(messageForm)">Send</button>
              <div ng-show="!form.tags.$valid" class="form-validation">
                Error: Form Invalid
              </div>
            </div>
          </fieldset>
        </div>
        <br/><br/>

        <input type="checkbox" data-ng-model="typeCtrl.debugMode" data-ng-change="typeCtrl.updateDebugMode( typeCtrl.debugMode )"> Debug Mode<br/>
        <input type="checkbox" data-ng-model="typeCtrl.singleSelectMode" data-ng-change="typeCtrl.updateSingleSelectMode( typeCtrl.singleSelectMode )"> Single Select Mode<br/>
      </div>
    </form>
  </div>
  <div class="col span_1_of_3">
    <div class="formWrap">
      <div name="messageForm" class="messageForm">
        <div data-ng-show="typeCtrl.typeaheadConfiguration.component.form.debug" class="message-form-response-wrap">
          <div class="response-header">
            <div class="response-header-text">
              COMPONENT DEFAULT CONFIGURATION
            </div>
          </div>
          <div class="response-body">
            <strong>CONFIGURATION OUTPUT</strong>
            <pre>{{typeCtrl.typeaheadConfiguration.defaults | json}}</pre>
          </div>
        </div>
      </div>
      <br/><br/>
      <div name="messageForm" class="messageForm">
        <div data-ng-show="typeCtrl.typeaheadConfiguration.component.form.debug" class="message-form-response-wrap">
          <div class="response-header">
            <div class="response-header-text">
              USER CUSTOM CONFIGURATION
            </div>
          </div>
          <div class="response-body">
            <strong>CONFIGURATION OUTPUT</strong>
            <pre>{{typeCtrl.typeaheadConfiguration.user | json}}</pre>
          </div>
        </div>
      </div>
      <br/><br/>
      <div name="messageForm" class="messageForm">
        <div data-ng-show="typeCtrl.typeaheadConfiguration.component.form.debug" class="message-form-response-wrap">
          <div class="response-header">
            <div class="response-header-text">
              RUNTIME COALESCED CONFIGURATION
            </div>
          </div>
          <div class="response-body">
            <strong>CONFIGURATION OUTPUT</strong>
            <pre>{{typeCtrl.typeaheadConfiguration.component | json}}</pre>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col span_1_of_3">
    <div class="formWrap">
      <div name="messageForm" class="messageForm">
        <div data-ng-show="typeCtrl.typeaheadConfiguration.component.form.debug && typeCtrl.tags.length" class="message-form-response-wrap">
          <div class="response-header">
            <div class="response-header-text">
              TYPEAHEAD RESPONSE TWO-WAY BINDING
            </div>
          </div>
          <div class="response-body">
            <div data-ng-show="typeCtrl.tags.length">
              <strong>TAGS OUTPUT</strong><br/>
              <pre>{{ typeCtrl.tags | json }}</pre>
            </div>
          </div>
        </div>
      </div>
      <br/><br/>
      <div name="messageForm" class="messageForm">
        <div data-ng-show="typeCtrl.typeaheadConfiguration.component.form.debug && typeCtrl.tagList.length"
             class="message-form-response-wrap">
          <div class="response-header">
            <div class="response-header-text">
              TYPEAHEAD RESPONSE ONE-WAY BINDING
            </div>
          </div>
          <div class="response-body">
            <div data-ng-show="typeCtrl.tagList.length">
              <strong>TAG LIST OUTPUT</strong><br/>
              <pre>{{ typeCtrl.tagList | json }}</pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="user-tag-template">
  <div class="tag-template">
    <div class="right-panel">
      <span><b>{{ $getDisplayText() }}</b></span>
      <a class="remove-button" data-ng-click="$removeTag()">&#10006;</a>
    </div>
  </div>
</script>

<script type="text/ng-template" id="user-autocomplete-template">
  <div class="autocomplete-template">
    <div class="right-panel">
      <span data-ng-bind-html="$highlight( $getDisplayText() )"></span>
      <span>{{ data.age }} years old</span>
    </div>
  </div>
</script>